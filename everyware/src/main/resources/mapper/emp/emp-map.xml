<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.app.attend.emp.mapper.EmpMapper">
	
	<!-- 전체조회 -->
 	<select id="selectEmpAll" resultType="EmpVO">
 		SELECT e.emp_id
 				, emp_name
 				, tel
 				, mail
 				, hire_date
 				, expire_date
 				, address
 				, photo
 				, department_emp_id
 				, department_id
 				, emp_position
 				, a.account_id
        		, a.password
		FROM emp e
			INNER JOIN account a
			ON e.emp_id = a.emp_id
 	</select>
 	
 	<!-- 단건조회 -->
 	<select id="selectEmpInfo" resultType="EmpVO">
 		 SELECT e.emp_id
 				, emp_name
 				, tel
 				, mail
 				, hire_date
 				, expire_date
 				, address
 				, photo
 				, department_emp_id
 				, FIND_CODENAME(department_id) departmentName
 				, FIND_CODENAME(emp_position) posName
 				, a.account_id
        		, a.password
		FROM emp e
			INNER JOIN account a
			ON e.emp_id = a.emp_id
		WHERE e.emp_id = #{empId}
 	</select>
 	
 	<update id="resetPwd" parameterType="int">
 		UPDATE account
		SET password = '0000'
		WHERE emp_id = #{empId};
 		
 	</update>

	
	

</mapper>