<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.app.calendar.mapper.CalendarMapper">
	<!-- 전체조회 -->
	<select id = "selectCalendarAll" parameterType = "empVO" resultType="CalendarVO">
		SELECT calendar_id
				, start_date "start"
				, end_date "end"
				, title
				, content
				, emp_id
				, calendar_box_id
				, calendar_color(calendar_box_id) "color"
		FROM calendar
		WHERE emp_id = 100
		ORDER BY calendar_id
	</select>
	
	<select id = "selectCalendarInfo" parameterType ="CalendarVO" resultType="CalendarVO">
		SELECT calendar_id
				, start_date
				, end_date
				, title
				, content
				, emp_id
				, calendar_color(calendar_box_id) "color"
		FROM calendar
		WHERE calendar_id = #{calendarId}		
	</select>
	
	<!-- 사원별 일정리스트 출력 -->
	<select id = "selectCalBox" parameterType ="CalendarBoxVO" resultType="CalendarBoxVO">
		SELECT calendar_box_id
				, calendar_box_name
				, emp_id
				, color
		FROM calendar_box
		WHERE emp_id = 100
	</select>
	
	<!-- 캘린더 색변경 -->
	<update id = "updateCalColor" parameterType = "CalendarBoxVO" >
		UPDATE calendar_box
		SET color = #{color}
		WHERE calendar_box_id = #{calendarBoxId}
	</update>
	
</mapper>
	

